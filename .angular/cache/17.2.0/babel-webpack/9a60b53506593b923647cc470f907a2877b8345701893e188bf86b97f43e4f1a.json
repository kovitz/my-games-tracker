{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { RankCard, Rank } from '../_model/rank-card';\nimport { CategoryItem } from '../_model/category';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user-session-handler\";\nexport let AddRankCardComponent = /*#__PURE__*/(() => {\n  class AddRankCardComponent {\n    constructor(userSessionHandler) {\n      this.userSessionHandler = userSessionHandler;\n      this.onAddItem = new EventEmitter();\n      this.show = false;\n      this.newCategoryItem = new CategoryItem(); //TODO: need to add categoryItem matching eventually\n      this.newRankCardToPush = new RankCard();\n      //i guess we want a max 3 bonuses constraint?\n      this.emptyBonuses = [{\n        increment: 1,\n        comment: 'COMMENT HERE'\n      }, {\n        increment: 1,\n        comment: 'COMMENT HERE'\n      }, {\n        increment: 1,\n        comment: 'COMMENT HERE'\n      }];\n      userSessionHandler.onSessionLoaded.subscribe(() => this.ngOnInit());\n    }\n    ngOnInit() {\n      this.show = false;\n      this.activeListTitle = this.userSessionHandler.activeList.title;\n      this.newRankCardToPush.bonusDetails = this.emptyBonuses;\n      this.rules = this.userSessionHandler.activeList.rules;\n      this.rules.forEach(x => {\n        this.newRankCardToPush.ranks.push(new Rank(x.code, 0));\n      });\n    }\n    selectRankScore(ruleCode, score) {\n      this.newRankCardToPush.ranks.find(r => r.code == ruleCode).score = score;\n    }\n    getRuleName(ruleCode) {\n      return this.rules.find(r => r.code == ruleCode).ruleName;\n    }\n    clearBoxArt() {\n      this.newCategoryItem.thumb = '';\n    }\n    submit() {\n      this.userSessionHandler.addRankCardForSessionUser(this.newRankCardToPush, this.newCategoryItem);\n      this.onAddItem.emit();\n    }\n    static #_ = this.ɵfac = function AddRankCardComponent_Factory(t) {\n      return new (t || AddRankCardComponent)(i0.ɵɵdirectiveInject(i1.UserSessionHandler));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddRankCardComponent,\n      selectors: [[\"add-rank-card\"]],\n      outputs: {\n        onAddItem: \"onAddItem\"\n      },\n      decls: 5,\n      vars: 2,\n      consts: [[\"type\", \"checkbox\", 1, \"enable\", 3, \"checked\", \"change\"], [1, \"active-list\"], [1, \"header\"]],\n      template: function AddRankCardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"input\", 0);\n          i0.ɵɵlistener(\"change\", function AddRankCardComponent_Template_input_change_0_listener() {\n            return ctx.show = !ctx.show;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(1, \"div\", 1);\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2);\n          i0.ɵɵtext(4, \"Rate the Game\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"checked\", ctx.show);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"Adding to list: \\\"\", ctx.activeListTitle, \"\\\"\");\n        }\n      },\n      encapsulation: 2\n    });\n  }\n  return AddRankCardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}